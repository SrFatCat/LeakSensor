# Контроллер пассивных датчиков протечки 
- До 20 каналов (шлейфов)
- Несколько датчиков на одном шлейфе (с одним терминальным резистором)
- Извещатель ввиде полоски адресных светодиодов (WS281x) и зуммера
- Оповещение о состоянии и протечке через Blynk
- Постоянный контроль состояния шлейфа (обрыв, короткое). Контроль шлейфов при старте (и/или по требованию) и отключение неисправных.
- Кнопка отключения зумера и повторной инициализации

## Решение
<sup>Незамысловатое</sup>
Фактически подарено мне @Serj из телеграмм-канала @mysensors_ru
В качестве сенсора используются два контакта из нержавейки на расстоянии 5мм.
Терминальный резистор на шлейф 470-500к, помехозащищенность достигается использованием RC фильтра на входе МК и программно - получением большой усредненной выборки. Отсутствие ложных срабатываний проверено на шлейфе до 60м (витая пара) в условиях промышленного помещения.

### Схема принципиальная
<sup>Примитивная</sup>
![](https://github.com/SrFatCat/LeakSensor/blob/master/image/Schematic_LeakSensor.png)
Практически, всё модульное. Основной модуль МК Arduino Mega 2560, внешний АЦП - модуль ADS1115, Сеть - модуль WS5500, питание WS2812 - модуль LM2596, разъемы для подключения шлейфов - плинты на плату KRON (изуверски извлеченные из старой патч-панели). Всё питается через штатное подключение Меги 12В от соседнего БИРПа.

### Печатная плата и исполнение
<sup>Инвалидское</sup>
Печатная плата односторонняя для ЛУТ или домашнего фотополимера. Односторонняя с перемычками. Делалось все под корпус для электрического щитка IEK, крепление на DIN-рейку.
![](https://github.com/SrFatCat/LeakSensor/blob/master/image/PCB_LeakSensor.png)
![](https://github.com/SrFatCat/LeakSensor/blob/master/image/LeakSensor1.jpg)
![](https://github.com/SrFatCat/LeakSensor/blob/master/image/LeakSensor2.jpg)
